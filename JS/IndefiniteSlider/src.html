<script type="text/javascript">
jQuery.fn.extend({sliderRange:function(e={}){$=jQuery;let t=$(this),n={},i=[],o=!1;function l(){if((o=t.is(":visible"))&&e.hasOwnProperty("values"))for(const n of Object.keys(e.values)){let i=t.find(`.slider-color-node[color-value="${n}"]`);i.length<=0&&(i=$(`<div class="slider-color-node" color-value="${n}"></div>`),t.prepend(i)),i.css({position:"absolute",top:0,bottom:0,left:s(n,"rightvalue",0,t.width()),width:s(n,"leftvalue",0,t.width())-s(n,"rightvalue",0,t.width()),zIndex:0,borderRadius:"50px",background:e.values[n].color})}}function a(e){let t=e.attr("handleindex");return i.push(i.includes(t)?i.splice(i.indexOf(t),1)[0]:t),i.indexOf(t)}function s(e,t,n,i){let o=0;switch(t){case"rightvalue":o=n;break;case"leftvalue":o=i}let l=$(`.slider-handle[${t}="${e}"]`);return l.length<=0?o:l.eq(0).position().left}function r(e){var o=0,r=0;e.on("touchstart mousedown",function(u){(u=u||window.event).preventDefault(),r=u.clientX||u.touches[0].clientX,e.css({zIndex:a(e)}),t.find(".slider-handle").each(function(){$(this).css({zIndex:i.indexOf($(this).attr("handleindex"))})}),$(document).on("touchend mouseup mouseleave",function(){$(document).unbind("mouseup touchend").unbind("mousemove touchmove")}),$(document).on("touchmove mousemove",function(){!function(i){(i=i||window.event).preventDefault();let a=i.clientX||i.touches[0].clientX;o=r-a,r=a,e.css({left:`${u=e.position().left-o,d=s(e.attr("leftvalue"),"rightvalue",0,e.parent().width()),c=s(e.attr("rightvalue"),"leftvalue",0,e.parent().width()),u<=d?d:u>=c?c:u}px`}),n[e.attr("leftvalue")].value=(e.position().left-s(e.attr("leftvalue"),"rightvalue",0,e.parent().width()))/e.parent().width(),n[e.attr("rightvalue")].value=(s(e.attr("rightvalue"),"leftvalue",0,e.parent().width())-e.position().left)/e.parent().width(),e.attr("handleposition",e.position().left),t.trigger("sliderChanged",[n]),l();var u,d,c}()})})}if(t.css({width:"100%",minHeight:"10px",backgroundColor:"#ddd",position:"relative",borderRadius:"50px",border:"1px solid #aaa"}),e.hasOwnProperty("values")){n=e.values;let i=0,o=0;for(const n of Object.keys(e.values))if(o<Object.keys(e.values).length-1){const l=$('<div class="slider-handle"><span></span></div>');i+=100*e.values[n].value,l.attr({leftvalue:Object.keys(e.values)[o],rightvalue:Object.keys(e.values)[o+1],handleindex:o}).css({position:"absolute",zIndex:a(l),left:`${i}%`,cursor:"pointer",height:"100%"}).appendTo(t).find("span").css({top:"-5px",bottom:"-5px",width:"15px",display:"block",background:"#eee",border:"1px solid #aaa",borderRadius:"4px",position:"absolute",left:0,transform:"translateX(-50%)"}),l.attr("handleposition",l.position().left),r(l),o++}return t.trigger("sliderInit",[n]),l(),$(window).on("resize",function(){l()}),setTimeout(function(){l()},100),n}return new Error("No values defined")}});
</script>
